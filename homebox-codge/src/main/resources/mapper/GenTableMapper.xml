<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hapleow.homeboxcodge.dao.GenTableMapper">

    <select id="list" resultType="com.hapleow.homeboxcodge.model.GenTable">
        select table_name    as tableName,
               table_comment as tableComment
        from information_schema.tables
        where table_schema = (select database())
    </select>


    <select id="detail" resultType="com.hapleow.homeboxcodge.model.GenTable">
        select table_name    as tableName,
               table_comment as tableComment
        from gen_table
        where id = #{id}
    </select>

    <select id="importTable">
        insert into gen_table(table_name,table_comment)
        select table_name,table_comment from information_schema.tables
        where table_name in
        <foreach collection="tables" open="(" close=")" separator="," item="table">
            #{table}
        </foreach>
    </select>


</mapper>
