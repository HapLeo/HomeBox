<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hapleow.homeboxcodge.dao.GenColumnMapper">

    <select id="list" resultType="com.hapleow.homeboxcodge.model.GenColumn">
        select
            column_id      as columnId,
            column_name    as columnName,
            column_comment as columnComment
        from gen_column
    </select>


    <select id="detail" resultType="com.hapleow.homeboxcodge.model.GenColumn">
        select
            column_id      as columnId,
            column_name    as columnName,
            column_comment as columnComment
        from gen_column
        where column_id = #{id}
    </select>

    <insert id="importColumn">
        insert into gen_column(column_name, column_comment)
        select column_name,
               column_comment
        from information_schema.columns
        where table_schema = (select database())
          and table_name = (#{tableName})
    </insert>


</mapper>
